{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Home","text":""},{"location":"#welcome","title":"Welcome","text":"<p>This is Dimensium Docs, the site which hosts all the documentations of our featured projects and softwares. If you want to visit the news/blog site instead of this documentation site, please click this.</p> <p>Our featured repositories:</p> <ul> <li>coding-standard (hosted on this site)</li> <li>dimensium-base (docs available)</li> <li>other repositories which is still inactive, click this to visit our repositories</li> </ul> <p>This site is built using mkdocs with material for mkdocs theme. Documentation for this site is also available for this site. You can find it easily in the navigation bar.</p>"},{"location":"tags/","title":"Tags","text":"<p>These are the relevant tags of the documentations:</p>"},{"location":"coding-standard/","title":"Coding Standard","text":""},{"location":"dimensium-base/","title":"Dimensium Base","text":""},{"location":"dimensium-docs/","title":"Dimensium Docs' documentation","text":"<p>This is the documentation of this site. </p> <p>As the homepage said, this page is built using mkdocs with material for mkdocs theme. These docs describes how this site was built and automatically deployed.</p>"},{"location":"dimensium-docs/docs-creation-and-configurations/","title":"Docs creation and configurations","text":"<p>We(I) created this site on my Windows computer using powershell, but commands are similar and usable on any operating system.</p> <pre><code>mkdocs new docs\nSet-Location docs/ # (1)!\ngit init\ngit status\n</code></pre> <ol> <li>In bash, it's <code>cd</code>.</li> </ol> <p>Output should look like this:</p> <pre><code>INFO    -  Writing config file: docs\\mkdocs.yml\nINFO    -  Writing initial docs: docs\\docs\\index.md\nInitialized empty Git repository in YourDrive:/path/to/docs/.git/\nOn branch master\n\nNo commits yet\n\nUntracked files:\n  (use \"git add &lt;file&gt;...\" to include in what will be committed)\n        docs/\n        mkdocs.yml\n\nnothing added to commit but untracked files present (use \"git add\" to track)\n</code></pre> <p>After created empty repository on Github, type:</p> <pre><code>git add .\ngit commit -m \"Initialized docs\"\nGet-Content mkdocs.yml # (1)!\n</code></pre> <ol> <li>In bash, it's <code>cat</code>.</li> </ol> <p>Output: <pre><code>site_name: My Docs\n</code></pre></p> <p>Configure <code>mkdocs.yml</code> like this:</p> <pre><code># site fundamental configurations.\nsite_name: \"Dimensium Docs\"\nsite_description: \"The official documentation repository of Dimensium, using mkdocs with material theme for mkdocs.\"\nsite_author: \"The Dimensium Software Organization\"\nsite_url: \"https://dimensium.github.io\"\nstrict: false\n# repository configurations.\nrepo_name: \"dimensium/docs\"\nrepo_url: \"https://github.com/dimensium/docs\"\nedit_uri: \"https://github.com/dimensium/docs/edit/master/docs\"\n# copyright.\ncopyright: \"Copyright &amp;copy; 2023 Dimensium Software Organization\"\n# favicon: assets/images/dimensium-logo.ico # enable it till we have the icon in .ico format.\n</code></pre> <p>These are fundamental configurations. Use these extensions to enable full power of markdown:</p> <pre><code>markdown_extensions:\n- attr_list\n- pymdownx.emoji:\nemoji_index: !!python/name:materialx.emoji.twemoji\nemoji_generator: !!python/name:materialx.emoji.to_svg\n- abbr\n- admonition\n- attr_list\n- def_list\n- footnotes\n- md_in_html\n- toc:\npermalink: true\n- tables\n- pymdownx.arithmatex:\ngeneric: true\n- pymdownx.betterem\n- pymdownx.caret\n- pymdownx.mark\n- pymdownx.tilde\n- pymdownx.critic\n- pymdownx.details\n- pymdownx.highlight:\nanchor_linenums: true\n- pymdownx.superfences </code></pre> <p>These features:</p> <pre><code>theme:\nfeatures:\n- navigation.instant\n- navigation.tabs\n- navigation.sections\n- navigation.indexes\n- navigation.footer\n- toc.integrate\n- content.action.edit\n- content.action.view\n- search.suggest\n- search.highlight\n- search.share\n</code></pre> <p>These plugins:</p> <pre><code># mkdocs material plugins.\nplugins:\n- search\n- tags:\ntags_file: tags.md\n# revision date plugin, show the date when they edited and created on each page.\n- git-revision-date-localized:\nenable_creation_date: true\n</code></pre> <p>We use these theme settings:</p> <pre><code># theme settings.\ntheme:\nname: material\nlang: en\npalette:\n# Palette toggle for light mode\n- scheme: default\nprimary: white\naccent: light blue\ntoggle:\nicon: material/toggle-switch\nname: Switch to dark mode\n# Palette toggle for dark mode\n- scheme: slate\nprimary: black\naccent: light blue\ntoggle:\nicon: material/toggle-switch-off-outline\nname: Switch to light mode\nlogo: assets/images/dimensium-logo.svg\nicon:\nrepo: fontawesome/brands/github\nedit: material/pencil-ruler\nview: material/eye\n</code></pre> <p>Used <code>material/toggle-switch-*</code> as the scheme-changing button, used <code>material/pencil-ruler</code> and <code>material/eye</code> as the button icon for editing and viewing on GitHub. Used <code>fontawesome/brands/github</code> as the git repository icon on the top right.</p>"},{"location":"dimensium-docs/site-automation-using-github-actions/","title":"Site automation using GitHub Actions","text":"<p>We use GitHub Actions to automate the site building and deploying. GitHub Actions uses YAML to configure the automation steps and running ways, and the whole deployment process seemed like this:</p> <ol> <li>You pushed (a) new commit(s) to this repository, using <code>git push -u origin master</code> to your fork and creating a pull request;</li> <li>The action file makes the action started to build the whole site with your new/modified file, and created a push to another branch called <code>gh-pages</code>;</li> <li>The repository settings makes this site deployed from the <code>gh-pages</code> branch, when that action file completed building the site, another action called <code>pages build and deployment</code> automatically runs and deploys the generated site to the target, i.e. <code>https://dimensium.github.io/docs</code>.</li> </ol>"},{"location":"dimensium-docs/site-automation-using-github-actions/#site-automatic-building","title":"Site automatic building","text":"<p>A workflow written in YAML named <code>page-building.yml</code> is in the <code>.github/workflows/</code> directory.</p> <p>This is the workflow:</p> <p><pre><code>name: Page buildings\non:\npush:\nbranches:\n- master\n- main\npermissions:\ncontents: write\njobs:\ndeploy:\nruns-on: ubuntu-latest\nsteps:\n- uses: actions/checkout@v3\n- uses: actions/setup-python@v4\nwith:\npython-version: 3.x\n- run: echo \"cache_id=$(date --utc '+%V')\" &gt;&gt; $GITHUB_ENV - uses: actions/cache@v3\nwith:\nkey: mkdocs-material-${{ env.cache_id }}\npath: .cache\nrestore-keys: |\nmkdocs-material-\n- run: pip install mkdocs-material mkdocs-git-revision-date-localized-plugin jieba pillow cairosvg\n- run: mkdocs gh-deploy --force\n</code></pre></p> <p>It defines a workflow called <code>Page buildings</code>, when there are fresh pushes on main/master repository (the master branch will shortly renamed to \"main\"), this action starts on the latest ubuntu linux, changes the environment variable, install packages we needed, and <code>mkdocs gh-deploy --force</code> deploys the docs to the <code>gh-pages</code> branch.</p>"},{"location":"dimensium-docs/site-automation-using-github-actions/#problems-with-multi-language-selector-and-its-solution","title":"Problems with multi-language selector and it's solution","text":"<p>Although the discussion #2346 provided a solution for multi-language support in one git repository, we choosed to keep it single-language but provided a language switching button which is configurable in <code>mkdocs.yml</code>, to let the multi-language support elegant and flexible.</p> <p>To add your translations, just:</p> <ol> <li> <p>Simply fork this repository, changes the <code>en</code> in setting to your language code 1, translate the document while lefting un-translated pages in English.</p> </li> <li> <p>Add your link 2 in the config file following the comment provided in config file. </p> </li> </ol> <ol> <li> <p>The language code reference is available in https://squidfunk.github.io/mkdocs-material/setup/changing-the-language/#site-language.\u00a0\u21a9</p> </li> <li> <p>Best deployed in GitHub Pages. It's documentation is available in https://docs.github.com/en/pages.\u00a0\u21a9</p> </li> </ol>"},{"location":"dimensium-docs/writting-docs/","title":"Writting docs","text":"<p>After introducing the basic principles of building this website and implementing automated deployment, writing a document is very easy. This article briefly introduces how to contribute documents.</p> <p>We will not introduce the basic syntax of markdown, but we will briefly introduce pymdown's extension of markdown syntax, and introduce the standard we write markdown documents.</p>"},{"location":"dimensium-docs/writting-docs/#code-blocks","title":"Code blocks","text":"<p>We use backquotes to insert a code block in markdown:</p> <pre><code>Some text\n``` language-you-use\nSome code\n```\nSome text\n</code></pre> <p>But not this:</p> <pre><code>Some text\n\n    Some code\n    Some code\n\nSome text\n</code></pre> <p>This syntax disables syntax highlighting, and makes it more difficult to read the code and adding annotations. If you want to insert ``` in your code block (like this document), just use more backquotes:</p> <pre><code>Some text\n````markdown\nSome markdown code\n```language-you-use\nSome code\n```\n````\n</code></pre>"},{"location":"dimensium-docs/writting-docs/#using-admonitions","title":"Using Admonitions","text":"<p>Use admonitions the Material for MkDocs provided, this will make your output much prettier and focused on the content.</p> <p>Tip</p> <p>Use admonitions properly, or you will get your documentation more confusing.</p> <p>Guide using admonitions see this link in Material for MkDocs documentation.</p>"},{"location":"dimensium-docs/writting-docs/#using-inline-admonitions","title":"Using inline admonitions","text":"<p>Inline admonitions provided a simple way to render admonition without breaking documentation into parts. This function is useful when writing a tutorial or \"cookbook\". When the viewport is too narrow to put the inline admonitions, it will stretch to the full width of the viewport, one case is reading documentation on mobile phones.</p> <p>Lorem ipsum dolor</p> <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nulla et euismod nulla. Curabitur feugiat, tortor non consequat finibus, justo purus auctor massa, nec semper lorem quam in massa.</p> <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nulla et euismod nulla. Curabitur feugiat, tortor non consequat finibus, justo purus auctor massa, nec semper lorem quam in massa.Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nulla et euismod nulla. Curabitur feugiat, tortor non consequat finibus, justo purus auctor massa, nec semper lorem quam in massa.Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nulla et euismod nulla. Curabitur feugiat, tortor non consequat finibus, justo purus auctor massa, nec semper lorem quam in massa.Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nulla et euismod nulla. Curabitur feugiat, tortor non consequat finibus, justo purus auctor massa, nec semper lorem quam in massa.</p>"},{"location":"dimensium-docs/writting-docs/#using-annotations","title":"Using annotations","text":"<p>Annotations is one of the best features of the Material for MkDocs I considered. It provided another simple way to make comment-like notes in almost anywhere in markdown document. </p> <p>For it's usage, click this to learn more.</p> <p>Here is a code block which commented by annotations. It is a thread-safe log queue interface written in C++. Notice we also used <code>linenums</code>, <code>title</code> and <code>hl_lines</code> attributes.</p> <p>Result looks like this:</p> log_queue.hpp<pre><code>class LogQueue\n{\nprivate:\nstd::queue&lt;std::string, std::list&lt;std::string&gt;&gt; message_queue; // (1)!\nstd::mutex queue_mutex;\nstd::condition_variable queue_cond;\nstd::thread internal_thread;\nbool exit_flag {false};\nstd::mutex ef_mutex;\nstd::ostream &amp;stream; // (2)!\nvoid listen(void);\npublic:\nLogQueue(void) : stream {std::cout},\ninternal_thread {&amp;LogQueue::listen}\n{ }\nLogQueue(LogQueue const&amp;) = delete;\nLogQueue &amp;operator=(LogQueue const&amp;) = delete;\nvirtual ~LogQueue(void);\nvoid add(std::string);\nvoid stop(void); // (3)!\n};\n</code></pre> <ol> <li> <p>The message queue wraps the <code>std::list</code>, which may increase the performance.</p> </li> <li> <p>Notice that <code>stream</code> should always initialized in ctor-initializer list. Don't place this in scope, that occurs compile error.</p> </li> <li> <p>This function uses the <code>ef_mutex</code>, which protects the <code>exit_flag</code> variable, <code>internal_thread</code> checks the flag, when it was set, loop in thread exits.</p> </li> </ol> <p>The raw code looks like this:</p> <pre><code>```cpp title=\"log_queue.hpp\" linenums=\"1\" hl_lines=\"27-28\"\nclass LogQueue\n{\nprivate:\nstd::queue&lt;std::string, std::list&lt;std::string&gt;&gt; message_queue; // (1)!\nstd::mutex queue_mutex;\nstd::condition_variable queue_cond;\nstd::thread internal_thread;\nbool exit_flag {false};\nstd::mutex ef_mutex;\nstd::ostream &amp;stream; // (2)!\nvoid listen(void);\npublic:\nLogQueue(void) : stream {std::cout},\ninternal_thread {&amp;LogQueue::listen}\n{ }\nLogQueue(LogQueue const&amp;) = delete;\nLogQueue &amp;operator=(LogQueue const&amp;) = delete;\nvirtual ~LogQueue(void);\nvoid add(std::string);\nvoid stop(void); // (3)!\n};\n```\n1. The message queue wraps the `std::list`, which may increase the performance.\n\n2. Notice that `stream` should always initialized in ctor-initializer list. Don't place this in scope, that occurs compile error.\n\n3. This function uses the `ef_mutex`, which protects the `exit_flag` variable, `internal_thread` checks the flag, when it was set, loop in thread exits.\n</code></pre>"},{"location":"tags/","title":"Tags","text":"<p>These are the relevant tags of the documentations:</p>"}]}